  - sensor:
      - name: "Monthly Electricity Usage"
        unique_id: monthly_electricity_usage
        unit_of_measurement: "kWh"
        state_class: total
        device_class: energy
        icon: mdi:flash
        state: >
          {% set current_day = now().day %}
          {% set daily_consumption = states('sensor.zonneplan_electricity_consumption_today')|float(0) %}
          {% set estimated_monthly = daily_consumption * 30.5 %}
          {{ estimated_monthly | round(2) }}
          
      - name: "Monthly Solar Production"
        unique_id: monthly_solar_production
        unit_of_measurement: "kWh"
        state_class: total
        device_class: energy
        icon: mdi:solar-power
        state: >
          {% set solar_today = states('sensor.solar_production_today')|float(0) %}
          {% if solar_today > 0 %}
            {% set estimated_monthly = solar_today * 30.5 %}
            {{ estimated_monthly | round(2) }}
          {% else %}
            0
          {% endif %}
          
      - name: "Monthly Grid Import"
        unique_id: monthly_grid_import
        unit_of_measurement: "kWh"
        state_class: total
        device_class: energy
        icon: mdi:transmission-tower-import
        state: >
          {% set import_today = states('sensor.grid_import_today')|float(0) %}
          {% if import_today > 0 %}
            {% set estimated_monthly = import_today * 30.5 %}
            {{ estimated_monthly | round(2) }}
          {% else %}
            {{ states('sensor.zonneplan_electricity_consumption_today')|float(0) * 30.5 | round(2) }}
          {% endif %}