
template:
  - trigger:
      - platform: state
        entity_id: sensor.zonneplan_electricity_consumption_today
    sensor:
      - name: "Gemiddeld Verbruik Ochtend"
        unit_of_measurement: "kWh"
        device_class: energy
        state_class: measurement
        icon: mdi:weather-sunny
        state: >
          {% if trigger.to_state.state not in ['unknown', 'unavailable', None] %}
            {{ (trigger.to_state.state | float(0) * 0.25) | round(2) }}
          {% else %}
            0
          {% endif %}

      - name: "Gemiddeld Verbruik Middag"
        unit_of_measurement: "kWh"
        device_class: energy
        state_class: measurement
        icon: mdi:weather-partly-cloudy
        state: >
          {% if trigger.to_state.state not in ['unknown', 'unavailable', None] %}
            {{ (trigger.to_state.state | float(0) * 0.35) | round(2) }}
          {% else %}
            0
          {% endif %}

      - name: "Gemiddeld Verbruik Avond"
        unit_of_measurement: "kWh"
        device_class: energy
        state_class: measurement
        icon: mdi:weather-sunset
        state: >
          {% if trigger.to_state.state not in ['unknown', 'unavailable', None] %}
            {{ (trigger.to_state.state | float(0) * 0.30) | round(2) }}
          {% else %}
            0
          {% endif %}

      - name: "Gemiddeld Verbruik Nacht"
        unit_of_measurement: "kWh"
        device_class: energy
        state_class: measurement
        icon: mdi:weather-night
        state: >
          {% if trigger.to_state.state not in ['unknown', 'unavailable', None] %}
            {{ (trigger.to_state.state | float(0) * 0.10) | round(2) }}
          {% else %}
            0
          {% endif %}
